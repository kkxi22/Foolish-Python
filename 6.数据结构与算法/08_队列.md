# 队列

队列是一种特殊的线性表，特殊之处在于它只允许在表的前端进行删除操作，而在表的后端（rear）进行插入操作，和栈一样，队列是一种操作受限制的线性表。进行插入操作的端称为队尾，进行删除操作的端称为队头。

**与栈的区别**

栈：先进后出**first in last out**，简称**FILO**

队列：先进先出**first in first out**，简称**FIFO**

# 对列功能

同栈一样，对列可以用顺序表和链表实现

- 创建一个空的队列
- 队列中添加一个元素
- 从队列头部删除一个元素
- 判断一个队列是否为空
- 返回队列长度
- 遍历

# 用顺序表实现

### 创建一个空的队列

```
class Queue(object):
    def __init__(self):
        """创建空队列"""
        self.queue = []
```

### 队列中添加一个元素

```
def append(self, data):
    """队列中添加一个元素"""
    self.queue.append(data)
```

### 从队列头部删除一个元素

```
def remove(self):
    """从队列头部删除一个元素"""
    self.queue.remove(self.queue[0])
```

### 判断一个队列是否为空

```
def is_empty(self):
    """判断一个队列是否为空"""
    return len(self.queue) == 0
```

### 返回队列长度

```
def length(self):
    """返回队列长度"""
    return len(self.queue)
```

### 返回队列长度

```
def travel(self):
    """遍历"""
    return self.queue
```

### 汇总

```
class Queue(object):
    def __init__(self):
        """创建空队列"""
        self.queue = []

    def append(self, data):
        """队列中添加一个元素"""
        self.queue.append(data)

    def remove(self):
        """从队列头部删除一个元素"""
        self.queue.remove(self.queue[0])

    def is_empty(self):
        """判断一个队列是否为空"""
        return len(self.queue) == 0

    def length(self):
        """返回队列长度"""
        return len(self.queue)

    def travel(self):
        """遍历"""
        return self.queue


q = Queue()
q.append(8)
q.append(9)
q.append(1)
q.append(2)
print(q.length())
print(q.travel())
q.remove()
q.remove()
print(q.length())
print(q.travel())
```

**结果**

```
4
[8, 9, 1, 2]
2
[1, 2]
```

# 用链表表实现

### 创建一个空的队列

```
class Queue(object):
    def __init__(self):
        """创建空队列"""
        self.queue = SingeList()
```

### 队列中添加一个元素

```
def append(self, data):
    """队列中添加一个元素"""
    self.queue.append(data)
```

### 从队列头部删除一个元素

```
def remove(self):
    """从队列头部删除一个元素"""
    data = self.queue.first_node().elem
    self.queue.remove(data)
```

### 判断一个队列是否为空

```
def is_empty(self):
    """判断一个队列是否为空"""
    return self.queue.is_empty()
```

### 返回队列长度

```
def length(self):
    """返回队列长度"""
    return self.queue.length()
```

### 遍历

```
def travel(self):
    """遍历"""
    return self.queue.travel()
```

### 汇总

```
class Node(object):
    """节点类"""
    def __init__(self, elem):
        self.elem = elem  # 节点的数据
        self.next = None  # 节点的指针，默认为指向空


class SingeList(object):
    """单向列表的功能"""
    def __init__(self):
        self.__head = None

    def is_empty(self):
        # 判断链表是否为空
        # if self.head == None:
        #     return True
        # else:
        #     return False
        return self.__head is None

    def length(self):
        # 得到链表长度
        cur = self.__head  # 创建一个标记，指向头部
        count = 0  # 计数变量
        while cur is not None:  # 如果标记指向不是None
            cur = cur.next  # 让标记后移一个节点
            count += 1  # 并且计数加1
        return count  # 最后返回总计数

    def travel(self):
        # 遍历列表
        if self.is_empty():  # 遍历之前判断空列表
            print("空列表")
        else:
            cur = self.__head
            while cur is not None:
                print(cur.elem, end=",")
                cur = cur.next
            print()

    def add(self, data):
        # 头部添加元素
        node = Node(data)  # 创建节点
        node.next = self.__head  # 让新节点指向初始头部的指向
        self.__head = node  # 在让头部指向新节点

    def append(self, data):
        # 尾部添加元素
        node = Node(data)  # 创建新节点
        if self.is_empty():  # 如果是空列表
            # self.add(data)  #调用头部添加函数
            self.__head = node
        else:
            cur = self.__head
            while cur.next is not None:  # 判断标记的下一个节点是不是为None
                cur = cur.next  # 不是继续移动标记
            cur.next = node  # 是，让标记指针指向新节点

    def insert(self, position, data):
        # 指定位置插入
        if position <= 0:  # 如果指定位置小于等于0，调用头部出入函数
            self.add(data)
        elif position > (self.length()-1):  # 如果指定位置大于self.length()-1
            self.append(data)  # 调用尾部插入函数
        else:
            node = Node(data)  # 创建新节点
            pre = self.__head  # 创建当前节点的前一个节点
            count = 0
            while count < position - 1:
                pre = pre.next
                count += 1
            node.next = pre.next  # 新节点的指针指向pre指向的那个节点
            pre.next = node  # pre指针指向新节点

    def remove(self, data):
        # 删除节点
        cur = self.__head
        pre = None
        while cur is not None:
            if cur.elem == data:  # 如果当前节点数据和删除数据相等
                if pre is None:   # 如果pre == None，说明是第一个节点
                    self.__head = cur.next
                    return "已删除"
                else:
                    pre.next = cur.next
                    return "已删除"
            else:  # 继续移动标记
                pre = cur
                cur = cur.next

    def search(self, data):
        # 查找节点
        cur = self.__head
        while cur is not None:
            if cur.elem == data:  # 如果当前节点数据和查找数据相等
                print("找到数据")
                return
            cur = cur.next
        print("未找到%d" % data)

    def first_node(self):
        return self.__head


class Queue(object):
    def __init__(self):
        """创建空队列"""
        self.queue = SingeList()

    def append(self, data):
        """队列中添加一个元素"""
        self.queue.append(data)

    def remove(self):
        """从队列头部删除一个元素"""
        data = self.queue.first_node().elem
        self.queue.remove(data)

    def is_empty(self):
        """判断一个队列是否为空"""
        return self.queue.is_empty()

    def length(self):
        """返回队列长度"""
        return self.queue.length()

    def travel(self):
        """遍历"""
        return self.queue.travel()


q = Queue()
q.append(8)
q.append(9)
q.append(1)
q.append(2)
print(q.length())
q.travel()
q.remove()
q.remove()
print(q.length())
q.travel()
```

**结果**

```
4
[8, 9, 1, 2]
2
[1, 2]
```

